<!--
* Copyright (c) 2017, 2025 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] https://openjdk.org/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0 OR GPL-2.0-only WITH OpenJDK-assembly-exception-1.0
-->

# -XX:[+|-]ShowCodeDetailsInExceptionMessages

This OpenJDK HotSpot option enables or disables the feature that displays the details of a `NullPointerException` generated by a VM. This option is recognized by Eclipse OpenJ9&trade; and provided for compatibility.

## Syntax

        -XX:[+|-]ShowCodeDetailsInExceptionMessages

| Setting               | Effect  | Default                                                                            |
|-----------------------|---------|:----------------------------------------------------------------------------------:|
| `-XX:+ShowCodeDetailsInExceptionMessages` |  Enable   |  ![Start of content that applies to Java 15 and later](cr/java15plus.png) :fontawesome-solid-check:{: .yes aria-hidden="true"}<span class="sr-only">yes</span>  ![End of content that applies to Java 15 and later ](cr/java_close.png)                               |
| `-XX:-ShowCodeDetailsInExceptionMessages` |  Disable  |  ![Start of content that applies to Java 14](cr/java14.png) :fontawesome-solid-check:{: .yes aria-hidden="true"}<span class="sr-only">yes</span>   ![End of content that applies to Java 14](cr/java_close.png)  |


## Explanation

A `NullPointerException` might include a message if a message was specified in the `NullPointerException` constructor or a `null` message if no message was specified in the constructor. A `NullPointerException` that is generated by a VM also has a `null` message. These messages do not have details of the reason for the exceptions thrown. A `NullPointerException` also includes a stack trace that contains the method, file name, and line number where the exception occurred. However, a single line of code might contain several access paths. Each of these paths might be the source of that exception, and it is difficult to identify the path that is the root cause of the exception.

[JEP 358: Helpful NullPointerExceptions](https://openjdk.org/jeps/358) provides extended messages when a `NullPointerException` is generated by a VM. You can enable this feature with the `-XX:+ShowCodeDetailsInExceptionMessages` option, which is a part of this JEP 358. When this feature is enabled and the VM throws a `NullPointerException`, a detailed message with the action that was not completed because of this exception and the reason for this exception is displayed. For example, in the following message, `Cannot read field "c"` is the action that was not completed and `because "a.b" is null` is the root cause of the exception.

```
Exception in thread "main" java.lang.NullPointerException: Cannot read field "c" because "a.b" is null
    at Prog.main(Prog.java:5)
```


<!-- ==== END OF TOPIC ==== xxshowcodedetailsinexceptionmessages.md ==== -->
